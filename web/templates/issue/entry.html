<div ng-controller="IssueController" class="row" ng-init="initIssuePage()">
    <div class="loader" ng-show="showLoader"></div>
    <div class="container" ng-show="!showLoader">
        <a ng-click="goBackToIssueList()"><span class="glyphicon glyphicon-share-alt" ng-lick="goBackToIssueList()"></span>Back to issues</a>

        <h1 class="display-4">{{issue.title}}</h1>

        <div class="row ">
            <div class="col-sm-12">
                <span class="badge" ng-repeat="label in issue.labels" style="background-color: #{{label.color}}">{{label.name}}</span>
                <a href="https://github.com/{{issue.user.login}}">{{issue.user.login}}</a> opened this issue
                {{issue.created_at | date}}
                {{count(issue.comments)}}
                <span ng-if="issue.comments">. {{issue.comments}} Comments</span>
            </div>
        </div>
        <hr class="my-4">

        <div class="row">
            <div class="col-sm-2">
                <a href="https://github.com/{{issue.user.login}}">
                    <img src="{{issue.user.avatar_url}}" class="img-circle float-left small" alt="" width="100"
                         height="100">
                </a>
            </div>
            <div class="col-sm-10">
                <p class="lead" marked="issue.body"></p>
            </div>
        </div>

        <div class="row" ng-if="comments">
            <h2 class="display-2">Comments: </h2>

            <div class="row" ng-repeat="comment in comments">
                <hr class="my-4">
                <div class="col-sm-2">
                    <a href="https://github.com/{{comment.user.login}}">
                        <img src="{{comment.user.avatar_url}}" class="img-circle float-left small" alt="" width="100"
                             height="100">
                    </a>
                </div>
                <div class="col-sm-10">
                    <p class="lead" marked="comment.body"></p>
                </div>
            </div>
        </div>
    </div>
</div>

